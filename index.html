<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="时刻用一颗谦卑的心来面对这个世界的人和事，在自己所建立的原则的基础上努力做事，人生终将美满。">
<meta property="og:type" content="website">
<meta property="og:title" content="戴建林">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="戴建林">
<meta property="og:description" content="时刻用一颗谦卑的心来面对这个世界的人和事，在自己所建立的原则的基础上努力做事，人生终将美满。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="戴建林">
<meta name="twitter:description" content="时刻用一颗谦卑的心来面对这个世界的人和事，在自己所建立的原则的基础上努力做事，人生终将美满。">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>

  <title> 戴建林 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-80088746-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">戴建林</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">DaiJianlin’s Blog</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/27/Intro-to-Rails-Rails-入门详解/" itemprop="url">
                  Intro to Rails-Rails 入门详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-27T18:36:39+08:00" content="2016-11-27">
              2016-11-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/全栈工程师/" itemprop="url" rel="index">
                    <span itemprop="name">全栈工程师</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/27/Intro-to-Rails-Rails-入门详解/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/11/27/Intro-to-Rails-Rails-入门详解/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>写的这篇Intro to Rails入门详解，希望能对刚入门的人有点借鉴意义，也欢迎随时跟我交流，谢谢。</p>
<p>Table of Content</p>
<p>学习目标</p>
<p>实践</p>
<p>Step 1: 在Macbook上建一个应用程序（Application）</p>
<p>Step 2：把项目加进git 数据仓库(Repo)</p>
<p>Step 3：本地执行本项目</p>
<p>Step 4：创建一个Migration</p>
<pre><code>4.1 知识点解释

    知识点一：migration &amp; rake

    知识点二：scaffolding
</code></pre><p>Step 5：使用scaffolding进行CRUD</p>
<pre><code>5. 1知识点解释

    知识点一：@topics

    知识点二：edit_topic_path(topic) &amp; new_topic_path

5.2 知识点解释

    知识点一：@topic从哪来？

    知识点二：edit_topic_path(@topic)

    知识点三：topics_path

5.3 知识点解释

    知识点一：render &apos;form&apos;, topic: @topic

5.4 知识点解释
</code></pre><p>​        知识点一：form_for</p>
<pre><code>5.5 进一步研究

5.6 余留问题
</code></pre><p>Step 6：设置默认页面</p>
<p>Step 7：对文章做投票</p>
<p>Step 8：把votes和topics连在一起</p>
<pre><code>8.1 知识点解释

    知识点一： has_many :votes, dependent: :destroy
</code></pre><p>Step 9：让我们可以投票</p>
<pre><code>9.1 知识点解释

    知识点一：upvote方法

9.2 知识点解释

    知识点一：member do post &apos;upvote&apos;

9.3 知识点解释

    知识点一：pluralize(topic.votes.count, &quot;vote&quot;)

    知识点二：button_to &apos;+1&apos;, upvote_topic_path(topic), method: :post

    知识点三：method: :post
</code></pre><p>参考资料</p>
<h1 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h1><ol>
<li>以intro to rails为素材，学习Intro to Rails，实现全栈工程师之路的入门</li>
<li>完全理解程序中的每个环节，刨根究底地寻找资源了解细节，达到完全掌握的目的</li>
<li>同时锻炼自己“只字不差地阅读”的能力</li>
</ol>
<h1 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h1><p>Intro to rails案例是在下面地址中<a href="http://docs.railsbridge.org/intro-to-rails/" target="_blank" rel="external">http://docs.railsbridge.org/intro-to-rails/</a>，接下来我们就一步一步来实现和解释。</p>
<h2 id="Step-1-在Macbook上建一个应用程序（Application）"><a href="#Step-1-在Macbook上建一个应用程序（Application）" class="headerlink" title="Step 1: 在Macbook上建一个应用程序（Application）"></a>Step 1: 在Macbook上建一个应用程序（Application）</h2><p>创建一个目录叫做railsbridge:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mkdir railsbridge</div></pre></td></tr></table></figure>
<p>切换到该目录下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd railsbridge</div></pre></td></tr></table></figure>
<p>在控制台上敲打下面命令用来创建一个suggestotron项目：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rails new suggestotron</div></pre></td></tr></table></figure>
<p>如果之前创建过了，可以通过以下命令给删除掉：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rm –rf suggestotron</div></pre></td></tr></table></figure>
<p>Note: 关于更多怎么使用command命令可以参考<a href="http://man.linuxde.net/rm" target="_blank" rel="external">http://man.linuxde.net/rm</a></p>
<p>这样就创建了一个项目（project）叫做suggestotron。</p>
<p>同样地，切换到suggestotron:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd suggestotron</div></pre></td></tr></table></figure>
<p><strong>干货提醒：以上用到的所有命令都要背诵下来。没有记住的同学请返回去再记一遍。</strong></p>
<p>接下来，用文本工具（text editor如Sublime）打开整个项目,打开后目录如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">^suggestotron</div><div class="line"> &gt;.bundle</div><div class="line"> &gt;app</div><div class="line"> &gt;bin</div><div class="line"> &gt;config</div><div class="line"> &gt;db</div><div class="line"> &gt;lib</div><div class="line"> &gt;log</div><div class="line"> &gt;public</div><div class="line"> &gt;test</div><div class="line"> &gt;tmp</div><div class="line"> &gt;vendor</div><div class="line"> -.gitignore</div><div class="line"> -config.ru</div><div class="line"> -Gemfile</div><div class="line"> -Gemfile.lock</div><div class="line"> -Rakefile</div><div class="line"> -README.md</div><div class="line"> 备注：其中^代表打开的文件夹；&gt;代表关闭的文件夹；-代表文件。</div></pre></td></tr></table></figure>
<p>下面对这些文件中比较关键的文件和目录做一下解释，主要介绍文件或者目录的用途。</p>
<ol>
<li>Gemfile：设置和管理Rails 应用程序中使用哪些gem。</li>
<li>Rakefile：用来加载可以被命令行执行的Rake任务，我们通过 rake -T 可以看到，如果加上 rake -T -D，可以看到详细的说明。</li>
<li>app目录：主要是包含controller，models和views，这三个目录可以说是在建站过程中最频繁使用到的。里面文件如下：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">^app</div><div class="line">&gt;assets</div><div class="line">&gt;channels</div><div class="line">&gt;controllers</div><div class="line">&gt;helpers</div><div class="line">&gt;jobs</div><div class="line">&gt;mailers</div><div class="line">&gt;models</div><div class="line">&gt;views</div><div class="line">备注：其中^代表打开的文件夹；&gt;代表关闭的文件夹</div></pre></td></tr></table></figure>
<ol>
<li>config目录：用来配置一些路由，数据库等。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">^config</div><div class="line">&gt;environments</div><div class="line">&gt;initializers</div><div class="line">&gt;locales</div><div class="line">-application.rb</div><div class="line">-boot.rb</div><div class="line">-cable.yml</div><div class="line">-database.yml</div><div class="line">-environment.rb</div><div class="line">-puma.rb</div><div class="line">-routes.rb</div><div class="line">-secrets.yml</div><div class="line">-spring.rb</div><div class="line">备注：其中^代表打开的文件夹；&gt;代表关闭的文件夹；-代表文件。</div></pre></td></tr></table></figure>
<p>其中这里面的routes是个特别重要的后续经常要用到的rb文件。</p>
<ol>
<li>db目录：显示数据库模式（database schema）和数据库迁移。如果你使用的是 sqlite 数据库，那么你会发现它存放在这里。sqlite 是一种小型的便于开发环境使用的数据库。在生产环境（production）的数据库，比如 mysql，postgres 等数据库文件，是不需要放到这里的。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">^db</div><div class="line">&gt;migrate</div><div class="line">-development.sqlite3</div><div class="line">-schema.rb</div><div class="line">-seeds.rb</div><div class="line">备注：其中^代表打开的文件夹；&gt;代表关闭的文件夹；-代表文件。</div></pre></td></tr></table></figure>
<ol>
<li>public目录：里面的文件是对外公开的，可以直接访问到的。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">^public</div><div class="line">&gt;404.html</div><div class="line">&gt;422.html</div><div class="line">&gt;500.html</div><div class="line">-apple-touch-icon-precomposed.png</div><div class="line">-apple-touch-icon.png</div><div class="line">-favicon.ico</div><div class="line">-robots.txt</div><div class="line">备注：其中^代表打开的文件夹；&gt;代表关闭的文件夹；-代表文件。</div></pre></td></tr></table></figure>
<h2 id="Step-2：把项目加进git-数据仓库-Repo"><a href="#Step-2：把项目加进git-数据仓库-Repo" class="headerlink" title="Step 2：把项目加进git 数据仓库(Repo)"></a>Step 2：把项目加进git 数据仓库(Repo)</h2><p>在Terminal中敲入：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git init</div></pre></td></tr></table></figure>
<p>这样子就会在.git文件（这是项目文件下的一个隐藏文件，可以通过ls –a查看）下创建一个新的repository。</p>
<p>接着敲入：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git status</div></pre></td></tr></table></figure>
<p>就会列出很多的untracked files。</p>
<p>再接着敲入：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git add .</div></pre></td></tr></table></figure>
<p>这个command告诉git你要把所有当前目录及当前目录的子目录都加入到repo中。加入后操作git status确认一下，你会看到一系列的文件等待被提交（commit）。</p>
<p>再接着敲入：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git commit -m “Added all the things”</div></pre></td></tr></table></figure>
<p>这样就提交建立还原点，提交后可用再用git status查看一下，会发现提示：”nothing to commit, working directory clean”</p>
<p>到这点为止，你要是后面的操作有出现问题，可用通过git回到这里。至于要怎么做，其实我也还不知道，后面会学到的。</p>
<p><strong>干货提醒：以上用到的所有命令都要背诵下来。没有记住的同学请返回去再记一遍</strong></p>
<h2 id="Step-3：本地执行本项目"><a href="#Step-3：本地执行本项目" class="headerlink" title="Step 3：本地执行本项目"></a>Step 3：本地执行本项目</h2><p>在Terminal中敲入：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rails server</div></pre></td></tr></table></figure>
<p>这样相当于“后台服务器”就运行起来，就可以查看该网站了。</p>
<p>在浏览器中敲入如下内容<a href="http://localhost:3000" target="_blank" rel="external">http://localhost:3000</a>，就可以看到类似下图的页面。</p>
<p><img src="http://oh2t3x3t2.bkt.clouddn.com/public/16-11-24/79968195.jpg?imageView/2/w/400" alt="rails running"></p>
<p>备注：1、采用Ctrl+C可以退出运行；2、如果打rails server -p 4000就要对应到网址：<a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a></p>
<h2 id="Step-4：创建一个Migration"><a href="#Step-4：创建一个Migration" class="headerlink" title="Step 4：创建一个Migration"></a>Step 4：创建一个Migration</h2><p>我们要在Terminal中敲入如下信息：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rails  generate scaffold topic <span class="symbol">title:</span>string <span class="symbol">description:</span>text</div></pre></td></tr></table></figure>
<p>这样，我们就创建了一个主题topic，这个主题有标题（title）和描述（description）。</p>
<p>我们可以从命令行里看到我们通过scaffold创建了如下这么多个是文件和目录：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">Running via Spring preloader <span class="keyword">in</span> process <span class="number">18723</span></div><div class="line">      invoke  active_record</div><div class="line">      create    db/migrate/<span class="number">20161122164227_</span>create_topics.rb</div><div class="line">      create    app/models/topic.rb</div><div class="line">      invoke    test_unit</div><div class="line">      create      test/models/topic_test.rb</div><div class="line">      create      test/fixtures/topics.yml</div><div class="line">      invoke  resource_route</div><div class="line">       route    resources <span class="symbol">:topics</span></div><div class="line">      invoke  scaffold_controller</div><div class="line">      create    app/controllers/topics_controller.rb</div><div class="line">      invoke    erb</div><div class="line">      create      app/views/topics</div><div class="line">      create      app/views/topics/index.html.erb</div><div class="line">      create      app/views/topics/edit.html.erb</div><div class="line">      create      app/views/topics/show.html.erb</div><div class="line">      create      app/views/topics/new.html.erb</div><div class="line">      create      app/views/topics/_form.html.erb</div><div class="line">      invoke    test_unit</div><div class="line">      create      test/controllers/topics_controller_test.rb</div><div class="line">      invoke    helper</div><div class="line">      create      app/helpers/topics_helper.rb</div><div class="line">      invoke      test_unit</div><div class="line">      invoke    jbuilder</div><div class="line">      create      app/views/topics/index.json.jbuilder</div><div class="line">      create      app/views/topics/show.json.jbuilder</div><div class="line">      create      app/views/topics/_topic.json.jbuilder</div><div class="line">      invoke  assets</div><div class="line">      invoke    coffee</div><div class="line">      create      app/assets/javascripts/topics.coffee</div><div class="line">      invoke    scss</div><div class="line">      create      app/assets/stylesheets/topics.scss</div><div class="line">      invoke  scss</div><div class="line">      create    app/assets/stylesheets/scaffolds.scss</div></pre></td></tr></table></figure>
<p>特别需要注意的是，以上操作其实只是通过scaffold来产生了所有功能的脚本（script），放在db/migrate/xxxx_create_topics.rb下。这些脚本不会自动执行。要让这些功能完整生效，就要执行下面的指令：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rake <span class="symbol">db:</span>migrate</div></pre></td></tr></table></figure>
<h3 id="4-1-知识点解释"><a href="#4-1-知识点解释" class="headerlink" title="4.1 知识点解释"></a>4.1 知识点解释</h3><h4 id="知识点一：migration-amp-rake"><a href="#知识点一：migration-amp-rake" class="headerlink" title="知识点一：migration &amp; rake"></a>知识点一：migration &amp; rake</h4><p>migration，即数据迁移，简而言之，就是用来建立修改管理数据库资料的。</p>
<p>Rails使用了Migration数据库迁移机制来定义数据库结构(Schema)，文件位于db/migrate/目录下。它的目的在于:</p>
<ul>
<li><strong>让数据库的修改也可以纳入版本控制系统</strong>，所有的变更都透过撰写Migration文件执行</li>
<li><strong>方便应用程式更新升级</strong>，例如让软件从第三版更新到第五版，数据库更新只需要执行rake db:migrate</li>
<li><strong>跨数据库通用</strong>，不需修改程式就可以用在SQLite3、MySQL、Postgres等不同数据库</li>
</ul>
<p>具体可以详见：<a href="http://edgeguides.rubyonrails.org/active_record_migrations.html" target="_blank" rel="external">http://edgeguides.rubyonrails.org/active_record_migrations.html</a> 及<a href="https://ihower.tw/rails/basic-cn.html" target="_blank" rel="external">https://ihower.tw/rails/basic-cn.html</a></p>
<h4 id="知识点二：scaffolding"><a href="#知识点二：scaffolding" class="headerlink" title="知识点二：scaffolding"></a>知识点二：scaffolding</h4><p>Rails的scaffolding会自动产生一组Model、Views和Controller的程序，完成一个简易的CRUD程序以供展示和学习用。听说资深程序员基本不用scaffolding，而是偏向从头建立Models、Views和Controllers。</p>
<p>更多信息可参看：<a href="http://guides.rubyonrails.org/command_line.html" target="_blank" rel="external">http://guides.rubyonrails.org/command_line.html</a>和<a href="https://ihower.tw/rails/basic-cn.html" target="_blank" rel="external">https://ihower.tw/rails/basic-cn.html</a></p>
<h2 id="Step-5：使用scaffolding进行CRUD"><a href="#Step-5：使用scaffolding进行CRUD" class="headerlink" title="Step 5：使用scaffolding进行CRUD"></a>Step 5：使用scaffolding进行CRUD</h2><p>把服务器运行起来：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rails server</div></pre></td></tr></table></figure>
<p>而后，输入<a href="http://localhost:3000/topics" target="_blank" rel="external">http://localhost:3000/topics</a>，可以看到：</p>
<p><img src="http://oh2t3x3t2.bkt.clouddn.com/public/16-11-24/31753856.jpg?imageView/2/w/400" alt="rails running"></p>
<p>这样子就可以去做一系列的事情包括：显示、修改、删除。</p>
<p>那这些页面是怎么样被创建且绑定在一起的呢？Rails内建的scaffold做的。这都创建了什么东西呢？</p>
<ul>
<li><ol>
<li>app/models/topic.rb</li>
</ol>
</li>
</ul>
<p>这个文件，几乎是空的，如下所示，CRUD的记录都被rails中内建了。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Topic</span> &lt; ApplicationRecord</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>这里我们第一次看到了.rb结尾的文件，这个就是ruby文件。意思是Topic这个类是从ApplicationRecord继承来的。</p>
<ul>
<li><ol>
<li>app/views/topics</li>
</ol>
</li>
</ul>
<p>这个文件夹包含了所有topic model的views，这里就是存放上面网页中显示的那些页面的相关代码。Rails的scaffold创建了这些页面。</p>
<ul>
<li><ol>
<li>app/views/topics/index.html.erb</li>
</ol>
</li>
</ul>
<p>这个是列出所有主题topics的代码，index是一个网站或者网站某章节默认的页面。</p>
<p>这里的代码是这样的：</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&lt;p id="notice"&gt;&lt;%=<span class="ruby"> notice </span>%&gt;&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;h1&gt;Topics&lt;/h1&gt;</div><div class="line"></div><div class="line">&lt;table&gt;</div><div class="line">  &lt;thead&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;Title&lt;/th&gt;</div><div class="line">      &lt;th&gt;Description&lt;/th&gt;</div><div class="line">      &lt;th colspan="3"&gt;&lt;/th&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">  &lt;/thead&gt;</div><div class="line"></div><div class="line">  &lt;tbody&gt;</div><div class="line">    &lt;%<span class="ruby"> @topics.each <span class="keyword">do</span> <span class="params">|topic|</span> </span>%&gt;</div><div class="line">      &lt;tr&gt;</div><div class="line">        &lt;td&gt;&lt;%=<span class="ruby"> topic.title </span>%&gt;&lt;/td&gt;</div><div class="line">        &lt;td&gt;&lt;%=<span class="ruby"> topic.description </span>%&gt;&lt;/td&gt;</div><div class="line">        &lt;td&gt;&lt;%=<span class="ruby"> link_to <span class="string">'Show'</span>, topic </span>%&gt;&lt;/td&gt;</div><div class="line">        &lt;td&gt;&lt;%=<span class="ruby"> link_to <span class="string">'Edit'</span>, edit_topic_path(topic) </span>%&gt;&lt;/td&gt;</div><div class="line">        &lt;td&gt;&lt;%=<span class="ruby"> link_to <span class="string">'Destroy'</span>, topic, <span class="symbol">method:</span> <span class="symbol">:delete</span>, <span class="symbol">data:</span> &#123; <span class="symbol">confirm:</span> <span class="string">'Are you sure?'</span> &#125; </span>%&gt;&lt;/td&gt;</div><div class="line">      &lt;/tr&gt;</div><div class="line">    &lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;</div><div class="line">  &lt;/tbody&gt;</div><div class="line">&lt;/table&gt;</div><div class="line"></div><div class="line">&lt;br&gt;</div><div class="line"></div><div class="line">&lt;%=<span class="ruby"> link_to <span class="string">'New Topic'</span>, new_topic_path </span>%&gt;</div></pre></td></tr></table></figure>
<p>这里就是主界面的代码。</p>
<h3 id="5-1知识点解释"><a href="#5-1知识点解释" class="headerlink" title="5. 1知识点解释"></a>5. 1知识点解释</h3><h4 id="知识点一：-topics"><a href="#知识点一：-topics" class="headerlink" title="知识点一：@topics"></a>知识点一：@topics</h4><p>@topics是哪里来的呢？</p>
<p>看topics_controller中如下方法：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span></span></div><div class="line">  @topics = Topic.all</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>Topic.all会抓出所有的资料，回传一个阵列给实例变量(instance variables)指派给@topics，Rails会让Action里的实例变量(也就是有@开头的变量)通通传到View模板（template）里面被使用。这个Action默认使用的模板是app/views/topics/目录下与Action同名（这里即index）的文件，也就是app/views/topics/index.html.erb中的内容。</p>
<p>这个View循环遍历主题并显示内容和超链接，有几件值得注意的事情：</p>
<blockquote>
<ul>
<li>在views中的文件都是以html.erb后缀结尾的，.html.erb后缀实际上是在告诉rails，要借助于erb系统对文件的内容进行扩展。erb是一个过滤器：进去的是.html.erb文件，出来的是经过转换的内容—在rails中，输出的文件通常是HTML格式，但也可以是别的任何东西，普通的内容会直进直出，没有任何变化。</li>
<li>&lt;%=和%&gt;之间的内容则会被看做Ruby代码执行，执行的结果将被转换成字符串，并替换到文件中&lt;%=…%&gt;所在的位置。</li>
<li>&lt;%和&lt;%=不太一样，前者只执行不输出，像用来迭代的each和end这两行就不需要输出，也就是执行结果不输出。而后者&lt;%= 里的结果会输出给浏览器。而那个结尾%&gt;和-%&gt;有什么区别呢？加-的意思是告诉rails将紧跟其后的换行符去掉。</li>
<li>link_to建立超链接到一个特定的位置，这里为浏览、编辑和删除都提供了超链接。</li>
</ul>
</blockquote>
<h4 id="知识点二：edit-topic-path-topic-amp-new-topic-path"><a href="#知识点二：edit-topic-path-topic-amp-new-topic-path" class="headerlink" title="知识点二：edit_topic_path(topic) &amp; new_topic_path"></a>知识点二：edit_topic_path(topic) &amp; new_topic_path</h4><p>edit_topic_path(topic)这个是什么意思啊？为什么一个路径会加上括号和参数？意思是该topic的路径？可以这样记：因为edit是单数，所有需要topic作为参数。</p>
<p>那为什么new_topic_path为什么不需要参数呢？</p>
<ul>
<li>app/views/topics/show.html.erb</li>
</ul>
<p>当点击show时候会出现的页面。具体内容如下：</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;p id="notice"&gt;&lt;%=<span class="ruby"> notice </span>%&gt;&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;p&gt;</div><div class="line">  &lt;strong&gt;Title:&lt;/strong&gt;</div><div class="line">  &lt;%=<span class="ruby"> @topic.title </span>%&gt;</div><div class="line">&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;p&gt;</div><div class="line">  &lt;strong&gt;Description:&lt;/strong&gt;</div><div class="line">  &lt;%=<span class="ruby"> @topic.description </span>%&gt;</div><div class="line">&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;%=<span class="ruby"> link_to <span class="string">'Edit'</span>, edit_topic_path(@topic) </span>%&gt; |</div><div class="line">&lt;%=<span class="ruby"> link_to <span class="string">'Back'</span>, topics_path </span>%&gt;</div></pre></td></tr></table></figure>
<h3 id="5-2-知识点解释"><a href="#5-2-知识点解释" class="headerlink" title="5.2 知识点解释"></a>5.2 知识点解释</h3><h4 id="知识点一：-topic从哪来？"><a href="#知识点一：-topic从哪来？" class="headerlink" title="知识点一：@topic从哪来？"></a>知识点一：@topic从哪来？</h4><p>我暂时的理解：是从Controller中show action中传递过来的吗？可是controller中的方法没有定义内容哟，我的理解是因为@topic本身是实例变量，实例变量在使用范围是在整个类中，所以可以这样，待进一步理解和验证。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">show</span></span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h4 id="知识点二：edit-topic-path-topic"><a href="#知识点二：edit-topic-path-topic" class="headerlink" title="知识点二：edit_topic_path(@topic)"></a>知识点二：edit_topic_path(@topic)</h4><p>上面已经提到过了，当前topic的编辑路径，对应到edit.html.erb的地方。这里edit是单数，所有需要@topic参数。</p>
<h4 id="知识点三：topics-path"><a href="#知识点三：topics-path" class="headerlink" title="知识点三：topics_path"></a>知识点三：topics_path</h4><p>这里用复数，代表的是整个topics的主界面。所以不需要参数。</p>
<ul>
<li>app/views/topics/new.html.erb</li>
</ul>
<p>当点击New Topic的时候会出现的页面。具体内容如下：</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;h1&gt;New Topic&lt;/h1&gt;</div><div class="line"></div><div class="line">&lt;%=<span class="ruby"> render <span class="string">'form'</span>, <span class="symbol">topic:</span> @topic </span>%&gt;</div><div class="line"></div><div class="line">&lt;%=<span class="ruby"> link_to <span class="string">'Back'</span>, topics_path </span>%&gt;</div></pre></td></tr></table></figure>
<h3 id="5-3-知识点解释"><a href="#5-3-知识点解释" class="headerlink" title="5.3 知识点解释"></a>5.3 知识点解释</h3><h4 id="知识点一：render-‘form’-topic-topic"><a href="#知识点一：render-‘form’-topic-topic" class="headerlink" title="知识点一：render ‘form’, topic: @topic"></a>知识点一：render ‘form’, topic: @topic</h4><p>这里的render ‘form’, topic: @topic的意思是将@topic变量传入局部视图_form.html.erb这个文件的topic本地变量，具体参考app/views/topics/ _form.html.erb中的解释。</p>
<p>进一步参考资料：</p>
<p><a href="http://guides.ruby-china.org/layouts_and_rendering.html" target="_blank" rel="external">http://guides.ruby-china.org/layouts_and_rendering.html</a></p>
<p><a href="http://guides.ruby-china.org/action_view_overview.html" target="_blank" rel="external">http://guides.ruby-china.org/action_view_overview.html</a></p>
<p><a href="http://cloudy9101.com/2014/1202/railszhong-renderde-yong-fa-zong-jie/" target="_blank" rel="external">http://cloudy9101.com/2014/1202/railszhong-renderde-yong-fa-zong-jie/</a></p>
<ul>
<li>app/views/topics/edit.html.erb</li>
</ul>
<p>点击edit的时候会出现的页面。</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;h1&gt;Editing Topic&lt;/h1&gt;</div><div class="line"></div><div class="line">&lt;%=<span class="ruby"> render <span class="string">'form'</span>, <span class="symbol">topic:</span> @topic </span>%&gt;</div><div class="line"></div><div class="line">&lt;%=<span class="ruby"> link_to <span class="string">'Show'</span>, @topic </span>%&gt; |</div><div class="line">&lt;%=<span class="ruby"> link_to <span class="string">'Back'</span>, topics_path </span>%&gt;</div></pre></td></tr></table></figure>
<p>这个信息和new.html.erb差不多，似乎没必要再解释。</p>
<ul>
<li>app/views/topics/_form.html.erb</li>
</ul>
<p>下划线开头的是partial，就是有很多页面有相同的form的时候，可以把相同的部分独立开来放到一个下划线开头的文件。</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;%=<span class="ruby"> form_for(topic) <span class="keyword">do</span> <span class="params">|f|</span> </span>%&gt;</div><div class="line">  &lt;%<span class="ruby"> <span class="keyword">if</span> topic.errors.any? </span>%&gt;</div><div class="line">    &lt;div id="error_explanation"&gt;</div><div class="line">      &lt;h2&gt;&lt;%=<span class="ruby"> pluralize(topic.errors.count, <span class="string">"error"</span>) </span>%&gt; prohibited this topic from being saved:&lt;/h2&gt;</div><div class="line"></div><div class="line">      &lt;ul&gt;</div><div class="line">      &lt;%<span class="ruby"> topic.errors.full_messages.each <span class="keyword">do</span> <span class="params">|message|</span> </span>%&gt;</div><div class="line">        &lt;li&gt;&lt;%=<span class="ruby"> message </span>%&gt;&lt;/li&gt;</div><div class="line">      &lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;</div><div class="line">      &lt;/ul&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  &lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;</div><div class="line"></div><div class="line">  &lt;div class="field"&gt;</div><div class="line">    &lt;%=<span class="ruby"> f.label <span class="symbol">:title</span> </span>%&gt;</div><div class="line">    &lt;%=<span class="ruby"> f.text_field <span class="symbol">:title</span> </span>%&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line"></div><div class="line">  &lt;div class="field"&gt;</div><div class="line">    &lt;%=<span class="ruby"> f.label <span class="symbol">:description</span> </span>%&gt;</div><div class="line">    &lt;%=<span class="ruby"> f.text_area <span class="symbol">:description</span> </span>%&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line"></div><div class="line">  &lt;div class="actions"&gt;</div><div class="line">    &lt;%=<span class="ruby"> f.submit </span>%&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;</div></pre></td></tr></table></figure>
<h3 id="5-4-知识点解释"><a href="#5-4-知识点解释" class="headerlink" title="5.4 知识点解释"></a>5.4 知识点解释</h3><h4 id="知识点一：form-for"><a href="#知识点一：form-for" class="headerlink" title="知识点一：form_for"></a>知识点一：form_for</h4><p><a href="http://api.rubyonrails.org" target="_blank" rel="external">http://api.rubyonrails.org</a> 里对form_for的解释是：创建一个表单，这个表单允许用户创建或更新特定Model对象的属性。（Creates a form that allows the user to create or update the attributes of a specific model object.）说明是rails内置的东西，只需要拿出来用就是。</p>
<h3 id="5-5-进一步研究"><a href="#5-5-进一步研究" class="headerlink" title="5.5 进一步研究"></a>5.5 进一步研究</h3><p>我试着把_form.html.erb中的所有topic改成@topic，把new.html.erb的“, topic: @topic”去掉，即</p>
<p>_form.html.erb改成：</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;%=<span class="ruby"> form_for(@topic) <span class="keyword">do</span> <span class="params">|f|</span> </span>%&gt;</div><div class="line">  &lt;%<span class="ruby"> <span class="keyword">if</span> @topic.errors.any? </span>%&gt;</div><div class="line">    &lt;div id="error_explanation"&gt;</div><div class="line">      &lt;h2&gt;&lt;%=<span class="ruby"> pluralize(@topic.errors.count, <span class="string">"error"</span>) </span>%&gt; prohibited this topic from being saved:&lt;/h2&gt;</div><div class="line"></div><div class="line">      &lt;ul&gt;</div><div class="line">      &lt;%<span class="ruby"> @topic.errors.full_messages.each <span class="keyword">do</span> <span class="params">|message|</span> </span>%&gt;</div><div class="line">        &lt;li&gt;&lt;%=<span class="ruby"> message </span>%&gt;&lt;/li&gt;</div><div class="line">      &lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;</div><div class="line">      &lt;/ul&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  &lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;</div><div class="line"></div><div class="line">  &lt;div class="field"&gt;</div><div class="line">    &lt;%=<span class="ruby"> f.label <span class="symbol">:title</span> </span>%&gt;</div><div class="line">    &lt;%=<span class="ruby"> f.text_field <span class="symbol">:title</span> </span>%&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line"></div><div class="line">  &lt;div class="field"&gt;</div><div class="line">    &lt;%=<span class="ruby"> f.label <span class="symbol">:description</span> </span>%&gt;</div><div class="line">    &lt;%=<span class="ruby"> f.text_area <span class="symbol">:description</span> </span>%&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line"></div><div class="line">  &lt;div class="actions"&gt;</div><div class="line">    &lt;%=<span class="ruby"> f.submit </span>%&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;</div></pre></td></tr></table></figure>
<p>new.html.erb改成：</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;h1&gt;New Topic&lt;/h1&gt;</div><div class="line"></div><div class="line">&lt;%=<span class="ruby"> render <span class="string">'form'</span> </span>%&gt;</div><div class="line"></div><div class="line">&lt;%=<span class="ruby"> link_to <span class="string">'Back'</span>, topics_path </span>%&gt;</div></pre></td></tr></table></figure>
<p>改成这样后，发现还是可以跑起来的。这说明了这个@topic是可以在topics这个文件夹中的所有表单里调用的。</p>
<ul>
<li>app/controllers /topics_controller.rb</li>
</ul>
<p>这个是controller文件，你会发现里面有很多views文件夹下面.html.erb子文件对应的方法。看下面#中的解释有助于理解。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TopicsController</span> &lt; ApplicationController</span></div><div class="line">  <span class="comment"># before_action是用来将Controller中重复的程序独立出来。</span></div><div class="line">  before_action <span class="symbol">:set_topic</span>, <span class="symbol">only:</span> [<span class="symbol">:show</span>, <span class="symbol">:edit</span>, <span class="symbol">:update</span>, <span class="symbol">:destroy</span>]</div><div class="line"></div><div class="line">  <span class="comment"># GET /topics</span></div><div class="line">  <span class="comment"># GET /topics.json</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span></div><div class="line">    @topics = Topic.all</div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="comment"># GET /topics/1</span></div><div class="line">  <span class="comment"># GET /topics/1.json</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span></span></div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="comment"># GET /topics/new</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">new</span></span></div><div class="line">    @topic = Topic.new</div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="comment"># GET /topics/1/edit</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">edit</span></span></div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="comment"># POST /topics</span></div><div class="line">  <span class="comment"># POST /topics.json</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">create</span></span></div><div class="line">    @topic = Topic.new(topic_params)</div><div class="line">    <span class="comment"># respond_to 可以让我们在同一个Action中，支援不同的资料格式，例如XML、JSON、Atom等。</span></div><div class="line">    respond_to <span class="keyword">do</span> <span class="params">|format|</span></div><div class="line">      <span class="keyword">if</span> @topic.save</div><div class="line">        <span class="comment">#我们先背诵下来这样的格式。</span></div><div class="line">        format.html &#123; redirect_to @topic, <span class="symbol">notice:</span> <span class="string">'Topic was successfully created.'</span> &#125;</div><div class="line">        format.json &#123; render <span class="symbol">:show</span>, <span class="symbol">status:</span> <span class="symbol">:created</span>, <span class="symbol">location:</span> @topic &#125;</div><div class="line">      <span class="keyword">else</span></div><div class="line">        format.html &#123; render <span class="symbol">:new</span> &#125;</div><div class="line">        format.json &#123; render <span class="symbol">json:</span> @topic.errors, <span class="symbol">status:</span> <span class="symbol">:unprocessable_entity</span> &#125;</div><div class="line">      <span class="keyword">end</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="comment"># PATCH/PUT /topics/1</span></div><div class="line">  <span class="comment"># PATCH/PUT /topics/1.json</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">update</span></span></div><div class="line">    respond_to <span class="keyword">do</span> <span class="params">|format|</span></div><div class="line">      <span class="keyword">if</span> @topic.update(topic_params)</div><div class="line">        format.html &#123; redirect_to @topic, <span class="symbol">notice:</span> <span class="string">'Topic was successfully updated.'</span> &#125;</div><div class="line">        format.json &#123; render <span class="symbol">:show</span>, <span class="symbol">status:</span> <span class="symbol">:ok</span>, <span class="symbol">location:</span> @topic &#125;</div><div class="line">      <span class="keyword">else</span></div><div class="line">        format.html &#123; render <span class="symbol">:edit</span> &#125;</div><div class="line">        format.json &#123; render <span class="symbol">json:</span> @topic.errors, <span class="symbol">status:</span> <span class="symbol">:unprocessable_entity</span> &#125;</div><div class="line">      <span class="keyword">end</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="comment"># DELETE /topics/1</span></div><div class="line">  <span class="comment"># DELETE /topics/1.json</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">destroy</span></span></div><div class="line">    @topic.destroy</div><div class="line">    respond_to <span class="keyword">do</span> <span class="params">|format|</span></div><div class="line">      format.html &#123; redirect_to topics_url, <span class="symbol">notice:</span> <span class="string">'Topic was successfully destroyed.'</span> &#125;</div><div class="line">      format.json &#123; head <span class="symbol">:no_content</span> &#125;</div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  private</div><div class="line">    <span class="comment"># Use callbacks to share common setup or constraints between actions.</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_topic</span></span></div><div class="line">      @topic = Topic.find(params[<span class="symbol">:id</span>])</div><div class="line">    <span class="keyword">end</span></div><div class="line"></div><div class="line">    <span class="comment"># Never trust parameters from the scary internet, only allow the white list through.</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">topic_params</span></span></div><div class="line">      params.<span class="keyword">require</span>(<span class="symbol">:topic</span>).permit(<span class="symbol">:title</span>, <span class="symbol">:description</span>)</div><div class="line">    <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h3 id="5-6-余留问题"><a href="#5-6-余留问题" class="headerlink" title="5.6 余留问题"></a>5.6 余留问题</h3><p>topic.errors.any? 如何解？待进一步研究。</p>
<h2 id="Step-6：设置默认页面"><a href="#Step-6：设置默认页面" class="headerlink" title="Step 6：设置默认页面"></a>Step 6：设置默认页面</h2><p>在config/routes.rb文件中加入这行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">root ‘topics#index’</div></pre></td></tr></table></figure>
<p>root ‘topics#index’这句设置了网站的默认地址。Rails route控制着url对应的controller action。就如地址对应着房子的位置。</p>
<p>Routes.rb 使用简单的语法，所以没有显示所有可能的urls，想要知道句的urls的更详细信息，可以在terminal中打入rake routes，或者其实也可以通过<a href="http://localhost:3000/rails/info" target="_blank" rel="external">http://localhost:3000/rails/info</a> 去查看。我们会看到如下信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">    Prefix Verb   URI Pattern                Controller#Action</div><div class="line">    topics GET    /topics(.:format)          topics#index</div><div class="line">           POST   /topics(.:format)          topics#create</div><div class="line"> new_topic GET    /topics/new(.:format)      topics#new</div><div class="line">edit_topic GET    /topics/:id/edit(.:format) topics#edit</div><div class="line">     topic GET    /topics/:id(.:format)      topics#show</div><div class="line">           PATCH  /topics/:id(.:format)      topics#update</div><div class="line">           PUT    /topics/:id(.:format)      topics#update</div><div class="line">           DELETE /topics/:id(.:format)      topics#destroy</div></pre></td></tr></table></figure>
<p>这里Prefix，即前缀，搭配_path（这个是相对网址）或者 _url（这个是绝对网址）可以组合成helper方法。例如new_topic_path这样的方法，就会产生/topics/new这样的网址；edit_topic_path这样的方法，产生topics/23/edit这样的网址。一般来说大部分都会用 _path。特别注意一下其他action，即index，create，new，edit，show，update，destroy，是rails定好的，无法修改，要背诵起来。可以这样记：</p>
<blockquote>
<ul>
<li>show, new, edit, update, destroy 是单数，对单一元素操作</li>
<li>index, create是复数，对多数操作</li>
<li>topic_path(@topic)需要参数，根据HTTP动词show, update, destroy.</li>
<li>topics_path无需参数，根据HTTP动词决定index, create.</li>
</ul>
</blockquote>
<p>routes的进一步信息参考<a href="http://guides.rubyonrails.org/routing.html" target="_blank" rel="external">http://guides.rubyonrails.org/routing.html</a></p>
<h2 id="Step-7：对文章做投票"><a href="#Step-7：对文章做投票" class="headerlink" title="Step 7：对文章做投票"></a>Step 7：对文章做投票</h2><p> 在这个项目中，我们希望可以对每个topic进行投票。我们需要建立一个vote的model，使用下面的命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rails generate model vote topic_id:integer</div></pre></td></tr></table></figure>
<p>创建了如下所示的文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Running via Spring preloader in process 10895</div><div class="line">      invoke  active_record</div><div class="line">      create    db/migrate/20161125024243_create_votes.rb</div><div class="line">      create    app/models/vote.rb</div><div class="line">      invoke    test_unit</div><div class="line">      create      test/models/vote_test.rb</div><div class="line">      create      test/fixtures/votes.yml</div></pre></td></tr></table></figure>
<p>同样的道理，要让这些功能完整生效，就要执行下面的指令：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rake <span class="symbol">db:</span>migrate</div></pre></td></tr></table></figure>
<p>你会看到这样的信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ rake db:migrate</div><div class="line">== 20161125024243 CreateVotes: migrating ======================================</div><div class="line">-- create_table(:votes)</div><div class="line">   -&gt; 0.0140s</div><div class="line">== 20161125024243 CreateVotes: migrated (0.0144s) =============================</div></pre></td></tr></table></figure>
<p>这次为什么不是用scaffold来生成呢？因为这次我们不是要创建一个完整的vote的CRUD，而只是把vote当做topics的一部分。</p>
<p>Note：这里的topic_id是用来连接votes和topics的。</p>
<h2 id="Step-8：把votes和topics连在一起"><a href="#Step-8：把votes和topics连在一起" class="headerlink" title="Step 8：把votes和topics连在一起"></a>Step 8：把votes和topics连在一起</h2><p>打开app/models/topic.rb这个文件，我们会看到如下的内容</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Topic</span> &lt; ApplicationRecord</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>Topic这个类是从ApplicationRecord继承下来的。 这个基本概念掌握了以后，就可以接下来操作，在中间加入这行has_many:votes, dependent: :destroy，变成如下：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Topic</span> &lt; ApplicationRecord</span></div><div class="line">    has_many <span class="symbol">:votes</span>, <span class="symbol">dependent:</span> <span class="symbol">:destroy</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>接着再在app/models/vote.rb中加入如下belongs_to:topic，变成这样：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vote</span> &lt; ApplicationRecord</span></div><div class="line">     belongs_to <span class="symbol">:topic</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>这样子，vote和topic的关系就基本建立好了。 </p>
<h3 id="8-1-知识点解释"><a href="#8-1-知识点解释" class="headerlink" title="8.1 知识点解释"></a>8.1 知识点解释</h3><h4 id="知识点一：-has-many-votes-dependent-destroy"><a href="#知识点一：-has-many-votes-dependent-destroy" class="headerlink" title="知识点一： has_many :votes, dependent: :destroy"></a>知识点一： has_many :votes, dependent: :destroy</h4><p>首先，has_many :votes顾名思义，就是指每个Topic都会有很多选票。而dependent::destroy的意思是当topic被删除的时候，相应的所有votes也会被删除。这个可以直接背诵下来。</p>
<p>votes的前面为什么是有一个冒号呢？</p>
<p>这里的:votes是一个symbol，可以把symbol看成是一个没有约束的字符串。Symbol是Ruby 特有的一个数据类型，其他语言很少用到，初看起来感觉很奇怪，不过Rails 经常用到它，所以你很快就会习惯的。</p>
<p>可以顺便认识一下hash，先有个概念：user= { :name =&gt; “Michael Hartl”, :email =&gt;”michael@example.com” } 这样子就用symbol建了一个hash。现在也可以写成这样：{ name: “Michael Hartl”, email: “michael@example.com” }，两者的意思是相同的。</p>
<p>更详细信息，可以参考中文版的<a href="https://railstutorial-china.org/rails3/chapter4.html" target="_blank" rel="external">https://railstutorial-china.org/rails3/chapter4.html</a></p>
<p>或者英文版的：<a href="https://www.railstutorial.org/book/rails_flavored_ruby%23sec-hashes_and_symbols" target="_blank" rel="external">https://www.railstutorial.org/book/rails_flavored_ruby#sec-hashes_and_symbols</a></p>
<p>好了，毕竟是初学，也不要跑得太远了，我们进行下一个步骤。</p>
<h2 id="Step-9：让我们可以投票"><a href="#Step-9：让我们可以投票" class="headerlink" title="Step 9：让我们可以投票"></a>Step 9：让我们可以投票</h2><p>为了让我们可以投票，我们需要做以下事情：</p>
<ol>
<li>首先，要在页面上有个可以投票点加1的按钮。</li>
<li>接着，要有个计数的显示。</li>
<li>最后，要能够点按钮的时候，能计数并把计数结果显示出来。</li>
</ol>
<p>这样，我们就需要在controller写出投票的程序，并用route把按钮和程序连接在一起。</p>
<p>我们来具体看要如何操作：</p>
<p>在app/controllers/topic_controller.rb中private上面定义方法upvote</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">upvote</span></span></div><div class="line">    @topic = Topic.find(params[<span class="symbol">:id</span>])</div><div class="line">    @topic.votes.create</div><div class="line">    redirect_to(topics_path)</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h3 id="9-1-知识点解释"><a href="#9-1-知识点解释" class="headerlink" title="9.1 知识点解释"></a>9.1 知识点解释</h3><h4 id="知识点一：upvote方法"><a href="#知识点一：upvote方法" class="headerlink" title="知识点一：upvote方法"></a>知识点一：upvote方法</h4><p>@topic = Topic.find(params[:id])是在数据库中通过find方法找到对应的topic且把它存到实例变量@topic。</p>
<p>@topic.votes.create 则是创建了个投票且把这个票存在数据库。</p>
<p>redirect_to(topics_path)就是重定向到这个路径。</p>
<p>接着把的把config/routes.rb文件的resources部分的内容改成这样：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">resources <span class="symbol">:topics</span> <span class="keyword">do</span></div><div class="line">  member <span class="keyword">do</span></div><div class="line">    post <span class="string">'upvote'</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h3 id="9-2-知识点解释"><a href="#9-2-知识点解释" class="headerlink" title="9.2 知识点解释"></a>9.2 知识点解释</h3><h4 id="知识点一：member-do-post-‘upvote’"><a href="#知识点一：member-do-post-‘upvote’" class="headerlink" title="知识点一：member do post ‘upvote’"></a>知识点一：member do post ‘upvote’</h4><p>这段路由能识别 /topics/1/upvote 是个 post 请求，映射到 TopicsController 的 upvote 动作上，资源的 ID 传入 params[:id]。同时还生成了 upvote_topic_url 和 upvote_topic_path 两个帮助方法。背起来。</p>
<p>具体参考：<a href="http://guides.rubyonrails.org/routing.html" target="_blank" rel="external">http://guides.rubyonrails.org/routing.html</a> （英文）或者<a href="http://guides.ruby-china.org/routing.html（中文）中的2.10.1" target="_blank" rel="external">http://guides.ruby-china.org/routing.html（中文）中的2.10.1</a> Adding Member Routes中的解释。</p>
<p>这样过后，我们就通过rake routes命令或者在浏览器中打开<a href="http://localhost:3000/rails/info" target="_blank" rel="external">http://localhost:3000/rails/info</a> ，你会看到如下的信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ rake routes</div><div class="line">      Prefix Verb   URI Pattern                  Controller#Action</div><div class="line">        root GET    /                            topics#index</div><div class="line">upvote_topic POST   /topics/:id/upvote(.:format) topics#upvote</div><div class="line">      topics GET    /topics(.:format)            topics#index</div><div class="line">             POST   /topics(.:format)            topics#create</div><div class="line">   new_topic GET    /topics/new(.:format)        topics#new</div><div class="line">  edit_topic GET    /topics/:id/edit(.:format)   topics#edit</div><div class="line">       topic GET    /topics/:id(.:format)        topics#show</div><div class="line">             PATCH  /topics/:id(.:format)        topics#update</div><div class="line">             PUT    /topics/:id(.:format)        topics#update</div><div class="line">             DELETE /topics/:id(.:format)        topics#destroy</div></pre></td></tr></table></figure>
<p>你会看到多了个upvote_topic。这个就有了对应的upvote_topic_url 和 upvote_topic_path这两个帮助方法。</p>
<p>接着，编辑app/views/topics/index.html.erb文件，加入两行代码：</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;td&gt;&lt;%=<span class="ruby"> pluralize(topic.votes.count, <span class="string">"vote"</span>) </span>%&gt;&lt;/td&gt;</div><div class="line">&lt;td&gt;&lt;%=<span class="ruby"> button_to <span class="string">'+1'</span>, upvote_topic_path(topic), <span class="symbol">method:</span> <span class="symbol">:post</span> </span>%&gt;&lt;/td&gt;</div></pre></td></tr></table></figure>
<p>也就是变成：</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;%<span class="ruby"> @topics.each <span class="keyword">do</span> <span class="params">|topic|</span> </span>%&gt;</div><div class="line">  &lt;tr&gt;</div><div class="line">    &lt;td&gt;&lt;%=<span class="ruby"> topic.title </span>%&gt;&lt;/td&gt;</div><div class="line">    &lt;td&gt;&lt;%=<span class="ruby"> topic.description </span>%&gt;&lt;/td&gt;</div><div class="line">    &lt;td&gt;&lt;%=<span class="ruby"> pluralize(topic.votes.count, <span class="string">"vote"</span>) </span>%&gt;&lt;/td&gt;</div><div class="line">    &lt;td&gt;&lt;%=<span class="ruby"> button_to <span class="string">'+1'</span>, upvote_topic_path(topic), <span class="symbol">method:</span> <span class="symbol">:post</span> </span>%&gt;&lt;/td&gt;</div><div class="line">    &lt;td&gt;&lt;%=<span class="ruby"> link_to <span class="string">'Show'</span>, topic </span>%&gt;&lt;/td&gt;</div><div class="line">    &lt;td&gt;&lt;%=<span class="ruby"> link_to <span class="string">'Edit'</span>, edit_topic_path(topic) </span>%&gt;&lt;/td&gt;</div><div class="line">    &lt;td&gt;&lt;%=<span class="ruby"> link_to <span class="string">'Destroy'</span>, topic, <span class="symbol">method:</span> <span class="symbol">:delete</span>, <span class="symbol">data:</span> &#123; <span class="symbol">confirm:</span> <span class="string">'Are you sure?'</span> &#125; </span>%&gt;&lt;/td&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">&lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;</div></pre></td></tr></table></figure>
<h3 id="9-3-知识点解释"><a href="#9-3-知识点解释" class="headerlink" title="9.3 知识点解释"></a>9.3 知识点解释</h3><h4 id="知识点一：pluralize-topic-votes-count-“vote”"><a href="#知识点一：pluralize-topic-votes-count-“vote”" class="headerlink" title="知识点一：pluralize(topic.votes.count, “vote”)"></a>知识点一：pluralize(topic.votes.count, “vote”)</h4><p>pluralize(topic.votes.count, “vote”) 是显示了每个topic的投票数，单数就是vote，复数就是votes。这个方法的详细解释可以在ruby on rails的API中查看到<a href="http://api.rubyonrails.org" target="_blank" rel="external">http://api.rubyonrails.org</a></p>
<h4 id="知识点二：button-to-‘-1’-upvote-topic-path-topic-method-post"><a href="#知识点二：button-to-‘-1’-upvote-topic-path-topic-method-post" class="headerlink" title="知识点二：button_to ‘+1’, upvote_topic_path(topic), method: :post"></a>知识点二：button_to ‘+1’, upvote_topic_path(topic), method: :post</h4><p>参数 ‘+1’ 创造了个+1按键，upvote_topic_path(topic) 建立一个我们要调用的action的URL，点击到此的话，就会对当前的topic进行一次投票。把它背下来就是。</p>
<p>详细信息参考<a href="http://guides.rubyonrails.org/routing.html" target="_blank" rel="external">http://guides.rubyonrails.org/routing.html</a></p>
<h4 id="知识点三：method-post"><a href="#知识点三：method-post" class="headerlink" title="知识点三：method: :post"></a>知识点三：method: :post</h4><p>保证我们采用 CRUD的create action，而不是read action。其实本来默认就是method: :post，所以其实这个可以去掉，改成：</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;td&gt;&lt;%=<span class="ruby"> button_to <span class="string">'+1'</span>, upvote_topic_path(topic), <span class="symbol">method:</span> <span class="symbol">:post</span> </span>%&gt;&lt;/td&gt;</div></pre></td></tr></table></figure>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://rails-practice.com/" target="_blank" rel="external">https://rails-practice.com/</a></p>
<p><a href="http://api.rubyonrails.org" target="_blank" rel="external">http://api.rubyonrails.org</a> </p>
<p><a href="https://www.gitbook.com/book/liwei78/rails-practice/details" target="_blank" rel="external">https://www.gitbook.com/book/liwei78/rails-practice/details</a></p>
<p><a href="https://ihower.tw/rails/index-cn.html" target="_blank" rel="external">https://ihower.tw/rails/index-cn.html</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/06/我的全栈工程师之路02-Intro-To-Rails/" itemprop="url">
                  我的全栈工程师之路02-Intro To Rails
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-06T00:51:17+08:00" content="2016-11-06">
              2016-11-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/全栈工程师/" itemprop="url" rel="index">
                    <span itemprop="name">全栈工程师</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/06/我的全栈工程师之路02-Intro-To-Rails/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/11/06/我的全栈工程师之路02-Intro-To-Rails/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><ul>
<li>做一个Ruby on Rails实例</li>
<li>列出过程中出现的错误</li>
<li>总结教训继续前行</li>
<li>背诵</li>
</ul>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>IRB: Interative Ruby console 交互式Ruby 平台</p>
<p>CRUD: Create, Read, Update, Destroy.</p>
<p>gemfile: The Gemfile is a list of all the Ruby libraries your application needs.</p>
<p>Scaffold: A scaffold in Rails is a full set of model, database migration for that model, controller to manipulate it, views to view and manipulate the data, and a test suite for each of the above.</p>
<h2 id="重要步骤和知识点"><a href="#重要步骤和知识点" class="headerlink" title="重要步骤和知识点"></a>重要步骤和知识点</h2><p>git的使用步骤：git init-&gt;git status-&gt;git add .-&gt;git status-&gt;git commit -m “added all the things”-&gt;git status</p>
<p>By checking your application into git now, you’re creating a record of your starting point. Whenever you make a change during today’s workshop, we’ll add it to git before moving on. This way, if anything ever breaks, or you make a change you don’t like, you can use git as an all-powerful “undo” technique. But that only works when you remember to commit early and often!</p>
<p>运行：rails server-&gt; <a href="http://localhost:3000" target="_blank" rel="external">http://localhost:3000</a></p>
<p>rails server run your application locally just like Heroku will be running it on their servers.</p>
<p>Use scaffold to automatically generate the corresponding Scaffold in Rails:</p>
<p>Step: rails generate scaffold topic title:string description:text-&gt;rake db:migrate (This tells Rails to update the database to include a table for our new model.)</p>
<p>rake (ruby make) is a tool that allows you to run small programs that you use often in your application. </p>
<p>MVC:</p>
<p>Model: 1) For all the Models we create in RailsBridge, Model objects have a corresponding record in the database . <strong>the name of the table in the database is the plural version of the Model’s class name. for example Pig-&gt;pigs</strong>, The Model is a bridge between the database and your application’s code.</p>
<p>View: 1) The view generates the HTML that will be displayed in the browser. 2) View files are written in ERB, a templating language. It contains HTML with Ruby code embedded in it. </p>
<p>Controller: 1) Controllers pass Ruby objects between the Models and the Views. 2) Each url corresponds to a specific method in a Controller. 2) After this step, when your visit any page in your application, that request will be handled by a method in a controller.</p>
<p>设置首页：在config/routes.rb-&gt;添加这句：root ‘topics#index’ 。Rails routes control how URLs (web addresses) get matched with code on the server. Similar to how addresses match with houses and apartments.</p>
<p>Deploy to Heroku: heroku create-&gt;Edit the Gemfile-&gt;bundle install –without production (apply the Gemfile changes)-&gt; git add . git commit -m “changed Gemfile for Heroku”-&gt; git status -&gt; git push heroku master-&gt;heroku run rake db:migrate-&gt;heroku open</p>
<p>create Model: rails generate model vote topic_id:integer-&gt;rake db:migrate</p>
<p>has_many and belongs_to:</p>
<ul>
<li>In Rails, relationships between models are called associations. </li>
</ul>
<ul>
<li>Associations (usually) come in pairs.</li>
</ul>
<ul>
<li>A topic will have many votes so we put has_many :votes in the topic model.: When you ask a topic for its votes, you get an array of votes for that topic.</li>
<li>A vote is for a particular topic, so we put belongs_to :topic in the vote model.: When you ask a vote for its topic, you get the topic for that vote.</li>
</ul>
<p>It can still be important to clean up after yourself! dependent: :destroy on has_many :votes means when a Topic gets destroyed, all the votes that correspond to it will be destroyed, too. Without dependent :destroy, those votes would live on the database forever.</p>
<h2 id="错误总结"><a href="#错误总结" class="headerlink" title="错误总结"></a>错误总结</h2><p>错误1： 不知道怎么heroku create，原来是自己压根就没有装heroku，就安装和注册后登录进去可以创建。上传到heroku，要修改gemfile。</p>
<p>错误2：在执行rails generate scaffold topic title:string description:text中遇到停住，重启电脑后可用。</p>
<p>错误3：当把application部署到heroku后，忘记被Gemfile里面的内容修改回来，导致后面本地执行不了。</p>
<p>错误4：git commit -m “added。。。”，这个-m之后的一定要加吗？文档描述可不用加，可是没加的时候出现卡住。加了就没这个问题？</p>
<h2 id="背诵"><a href="#背诵" class="headerlink" title="背诵"></a>背诵</h2><p>remove app: rm -rf filename</p>
<p>create a new rails: rails new appname</p>
<p>While create a new Rails project, will be a lot directories and files including:</p>
<p>app/: Contains the controllers, models, and views for your application. You will do most of your work here.</p>
<p>config/: Configure your application’s runtime rules, routes, database, and more.</p>
<p>db/: Show yours current databased schema, as well as the databased migrations.</p>
<p>public/: The only folder seen to the world as-is. If you put files in here, they will be served directly without any processing by Rails.</p>
<p>app/assets/: This is where your images, Javascript, stylesheets and other static files should go. Modern Rails apps use something called the Assets Pipeline, which combines all the Javascript and CSS files in this directory into a single file for speediness.</p>
<p>rails server</p>
<p>rake -T: see a lit of all the rake commands your app currently respond to, along with a short description of each task.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/16/如何高品质地形成观点-1/" itemprop="url">
                  如何高品质地形成观点
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-16T20:39:31+08:00" content="2016-10-16">
              2016-10-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/读书笔记/" itemprop="url" rel="index">
                    <span itemprop="name">读书笔记</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/16/如何高品质地形成观点-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/10/16/如何高品质地形成观点-1/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>首先我们来看一下什么是观点（这里阐述的“观点”是英语中的“opinion”，而且是偏向于在Critical Thinking（国内大部分翻译成批判性思考）下的opinion）？</p>
<p>维基百科中的解释是：</p>
<blockquote>
<p>In general, an opinion is a judgment, viewpoint, or statement that is not conclusive.</p>
<p>观点是一种判断，看法或者陈述，不是决定性的。</p>
</blockquote>
<p>朗文词典的解释是：</p>
<blockquote>
<p>Your ideas or beliefs about a particular subject. </p>
<p>对某一特定主题的想法或者信念。</p>
</blockquote>
<p>在《Beyond Feelings》这本书里的解释则是：</p>
<blockquote>
<p>In the context of critical thinking, the term opinion refers to expressions of judgment rather than to expressions of taste.<br>在独立性思考的背景下，观点这个术语指的是判断的表达，而不是喜好的表达。</p>
</blockquote>
<p>上面提到的那个定义中，其实都少不了跟“判断”相关，也就是说，观点是一种判断。既然是一种判断，就是可能是对的，也可能是错的，那么我们要怎么做到让我们的观点尽可能地做到对呢？换句话说，怎么让我们的观点尽可能地往高品质上靠呢？</p>
<p>在《Beyond Feelings》这本书的第五章里，作者Vincent是这么说的：</p>
<blockquote>
<ol>
<li>Understand how opinions are formed. 搞清楚观点是如何形成的</li>
<li>Resist the temptation to treat your opinions as facts. 抵制把你的观点当作是事实的诱惑</li>
<li>Monitor your thoughts to prevent the uncritical default mode from taking charge. 监控你的思想，以防止非批判性默认模式的掌控</li>
</ol>
</blockquote>
<p>备注：以上具体描述细节请参考书中原文。</p>
<p>在以上第1点的时候，作者说到，有两个模式：</p>
<blockquote>
<ul>
<li>Uncritical Default Mode (非批判性默认模式)：Preceive -&gt; Let an opinion “come to mind” -&gt; Focus on information that supports the opinion -&gt; Embrace the opinion (感知-&gt;集中于”脑中出现“的一种观点-&gt;集中于支持该观点的信息-&gt;接受该观点</li>
<li>Critical Thinking Mode (批判性思考模式)：Perceive -&gt; Investigate the issue -&gt; Consider alternative opinions -&gt; Decide which opinion is most reasonable (感知-&gt;调查该观点-&gt;考虑其他的观点-&gt;确定哪个观点是最合理的)</li>
</ul>
</blockquote>
<p>看到这里，让我想起很久以前在学校的我，当初在写论文或者做报告的时候，就是“不折不扣”的跟”非批判性默认模式“里说的一模一样的在做事情。首先，想起一个观点，然后，就是拼命地找支持该观点的各种描述和证据，最后整理出一份当初所谓的完整”报告“。你想，论点，论证，条理清晰，应有尽有……看起来是就是这样子：</p>
<blockquote>
<p>我得出的观点是：XXXXXX</p>
<p>原因如下：</p>
<ol>
<li>X1……</li>
<li>X2……</li>
<li>X3……</li>
</ol>
</blockquote>
<p>而这样的报告，在学校里，竟然看过的人都很认同，包括老师。天啊！</p>
<p>过了一段时间，我自己的认知已经得到升级，无形中已经修改的自己的方法论（只不过之前没有深入思考这个就是方法论而已），我是这么做的：我会列出相关的选择，列出各个选项的支持和不支持理由，最终对比得出结论。看起来就变成这样子：</p>
<blockquote>
<p>我的最终结论是：观点A：aaaaaa</p>
<p>原因如下：</p>
<p>观点A：aaaaaa</p>
<p>支持的理由如下：</p>
<blockquote>
<ol>
<li>a1……</li>
<li>a2……</li>
<li>a3……</li>
</ol>
</blockquote>
<p>不支持的理由如下：</p>
<blockquote>
<ol>
<li>d1……</li>
<li>d2……</li>
<li>d3……</li>
</ol>
</blockquote>
<p>观点B: bbbbbb</p>
<p>支持的理由如下：</p>
<blockquote>
<p>……</p>
</blockquote>
<p>不支持的理由如下：</p>
<blockquote>
<p>……</p>
</blockquote>
<p> 分析如下：……</p>
</blockquote>
<p>最后的分析部分是根据实际情况，客观事实，判断依据等相关的内容做分析判断，或者根据实际情况采用统计分析的方法对多种方案做出选择。这样做至少相对客观，也比较接近于第二种方式。</p>
<p>以上第2点比较好理解，我这里就不做解释。</p>
<p>第3点则说到要monitor your thought。怎样的人才能做到monitor your thought呢？</p>
<p>我觉得是要有一定的元认知（metacognition）能力。</p>
<p>关于元认知能力，维基百科的解释是：</p>
<blockquote>
<p>Metacognition is “cognition about cognition”, “thinking about thinking”, or “knowing about knowing” and higher order thinking skills. </p>
<p>元认知是“对认知的认知”，“对思考的思考”或者“对认识的认识”以及更高阶的思维技巧。</p>
</blockquote>
<p>牛津词典的解释是：</p>
<blockquote>
<p>Awareness and understanding of one’s own thought processs.</p>
<p>对自己思考过程的认知与理解</p>
</blockquote>
<p>以上，不管对自己的认知的认知，还是对自己思考过程的认知与理解，都需要元认知能力。那么要达到对自己思考的监控，那自然也需要有元认知能力作为基础。</p>
<p>关于元认知能力，李笑来老师在<a href="http://zhibimo.com/read/xiaolai/zuo-xiang-qi-cheng/chapter2.html" target="_blank" rel="external">知笔墨上他们的一本书里</a>及得到上的专栏有过详细的解释。可以直接点进去看看（我自己是通过这两个地方了解到元认知能力的）。你也可以通过参考我之前写过的文章<a href="http://daijianlin.com/2016/10/04/%E6%88%91%E7%9A%84%E5%85%83%E8%AE%A4%E7%9F%A5%E8%83%BD%E5%8A%9B%E5%BC%80%E5%A7%8B%E8%A2%AB%E6%BF%80%E6%B4%BB/" target="_blank" rel="external">《我的元认知能力开始被激活》</a>的文章。</p>
<p>有了这个元认知能力以后，我们就能够对我们的思考进一步思考，从而达到监控的目的，当然这也说起来比较抽象。我用上面说到过的例子来演练和反思一下这个过程：</p>
<blockquote>
<p>啊？我之前这种想出一个观点，然后提供各种证据来支持它的做法竟然是错误的，没有意义的，得出的结论会带有很强的主观性，因为不论什么观点，经常很容易能找到支持的理由。</p>
</blockquote>
<p>恍然大悟：</p>
<blockquote>
<p>啊？原来是这样的啊！应该要考虑各种观点，以及各自支持他们的论据和反对的理由等等。</p>
</blockquote>
<p>进而：</p>
<blockquote>
<p>这道理其实挺简单的啊！之前我怎么竟然完全没有想到？是我当年的元认知能力不够吗？</p>
</blockquote>
<p>进一步：</p>
<blockquote>
<p>那现在我知道了，我现在开始应该都这么做才对。</p>
</blockquote>
<p>可是：</p>
<blockquote>
<p>在要形成新的观点时，我还是总是不由自主地优先考虑自己想到的观点哟……</p>
</blockquote>
<p>是啊：</p>
<blockquote>
<p>终于又深刻体会了一遍什么叫“知易行难“啊！我就不信我搞不定！</p>
</blockquote>
<p>后来，经过自己不断的挣扎，自己形成观点更加客观了，品质也更加高了。监控自己的想法需要元认知能力。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/15/XPM-Primecoin-分析报告-戴建林/" itemprop="url">
                  XPM(Primecoin)分析报告-戴建林
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-15T09:02:23+08:00" content="2016-10-15">
              2016-10-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/币种研究/" itemprop="url" rel="index">
                    <span itemprop="name">币种研究</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/15/XPM-Primecoin-分析报告-戴建林/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/10/15/XPM-Primecoin-分析报告-戴建林/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="XPM-Primecoin-分析报告-戴建林"><a href="#XPM-Primecoin-分析报告-戴建林" class="headerlink" title="XPM(Primecoin)分析报告-戴建林"></a>XPM(Primecoin)分析报告-戴建林</h1><p><strong>Report Outline</strong></p>
<ol>
<li>总结 </li>
<li>关于XPM(primecoin)<br> 2.1. 什么是XPM？<br> 2.2. XPM（素数币）的优点：<br> 2.3. 奖励历史 </li>
<li>XPM解决了什么问题？ </li>
<li>价格走势 </li>
<li>流动性<br> 5.1 交易量<br> 5.2 上线的交易所<br>附录1：社交媒体活跃度<br> Facebook热度<br> 推特热度：<br>附录2：以太坊创始人评价(2013) </li>
</ol>
<h2 id="1-总结"><a href="#1-总结" class="headerlink" title="1. 总结"></a>1. 总结</h2><p><strong>XPM素数币是第一个拿出可行的解决方案的基于工作量证明的加密货币。在2013年刚出来的时候风光过一阵子，当初连以太坊创始人Vitalik Buterin都对它抱有一定希望（具体看附录的链接文章）。但是后面没落下来，价格也是下跌挺多，似乎没什么机会上涨。</strong></p>
<p><strong>所以个人判断是： 可能对科研上有一定贡献，目前投资估计价值不大。</strong></p>
<h2 id="2-关于XPM-primecoin"><a href="#2-关于XPM-primecoin" class="headerlink" title="2. 关于XPM(primecoin)"></a>2. 关于XPM(primecoin)</h2><h3 id="2-1-什么是XPM？"><a href="#2-1-什么是XPM？" class="headerlink" title="2.1. 什么是XPM？"></a>2.1. 什么是XPM？</h3><p>Primecoin is an innovative cryptocurrency, a form of digital currency secured by cryptography and issued through a decentralized mining market. Derived from Satoshi Nakamoto’s Bitcoin, Primecoin introduces an unique form of proof-of-work based on prime numbers, and is the first cryptocurrency in the world designed with scientific computing as its work.<br>Primecoin,中文叫质数币或者素数币，是一种创新的加密货币，一种通过加密技术确保的数字货币形式，通过分散的矿业市场发行。 源于中本聪的比特币，Primecoin引入了基于素数的独特形式的工作量证明，并且是世界上第一个以科学计算为工作的加密货币。</p>
<h3 id="2-2-XPM（素数币）的优点"><a href="#2-2-XPM（素数币）的优点" class="headerlink" title="2.2. XPM（素数币）的优点"></a>2.2. XPM（素数币）的优点</h3><p>The innovative prime proof-of-work in Primecoin not only provides security and minting to the network, but also generates a special form of prime number chains of interest to mathematical research. Thus primecoin network is energy-multiuse, compared to bitcoin network. Primecoin is designed to sustain a prosperous mining market and high level of security, while maintaining good scarcity property like gold. Primecoin also processes payment transactions 10x faster than bitcoin network.<br>Primecoin的创新的主要工作证明不仅为网络提供安全和“造币厂”，而且还形成了对特殊形式的素数链数学研究的兴趣。 因此，与比特币网络相比，primecoin网络是能量多用途的。 Primecoin旨在维持繁荣的采矿市场和高水平的安全性，同时保持良好的稀缺性财产，如黄金。 Primecoin处理支付交易比比特币网络快10倍。</p>
<h3 id="2-3-奖励历史"><a href="#2-3-奖励历史" class="headerlink" title="2.3. 奖励历史"></a>2.3. 奖励历史</h3><p>电子前沿基金会提供55万美元价值的奖品给第一个发现数字长度超过100万，10万，亿和1亿的素数。目前前两个奖项已经被拿走。“大互联网梅森素数搜索”从1996年以来一直在寻找大素数，世界各地大学的数学家们都在参与。美国田纳西大学马汀分校为寻找素数是有用的提供了一系列说法：除了获得荣耀以外，在数论领域有很多副产品，激励计算机硬件开发，了解素数背后的工作机制，例如，能够深度预测素数间隔的素数理论，在用来寻找素数分布中得到使用。在这里，希望是，如果素数币能够大规模推广，人们能够更有效的找到坎宁安链和双坎宁安链，甚至可能突破性的找到这些数列出现的规律。</p>
<h2 id="3-XPM解决了什么问题？"><a href="#3-XPM解决了什么问题？" class="headerlink" title="3. XPM解决了什么问题？"></a>3. XPM解决了什么问题？</h2><p>素数币是市场上第一个没有采用Hash工作量证明机制的加密货币，挖矿过程本身就存在着科学价值。这项研究为其他种类的工作量证明的计算提供了分布式计算的参考价值。作为全世界第一个为数学问题而提出的电子货币。质数币可以给数学学术界带来一定的科研贡献。</p>
<p>质数在数学界中，存在着很多的疑难问题，比如著名的哥德巴赫猜想、黎曼猜想、孪生质数猜想、费马数、梅森质数等等，这些问题的解决，可以对人类的科学技术的发展，起到非常重要的促进作用XPM挖矿和传统的比特币挖矿原理截然不同，传统的比特币挖矿，只是简单的对一组密码进行暴力破解，而XPM的设计理念，是集合大家所有人的计算机能力，对学术界中的疑难问题进行破解，比如寻找最大的质数等等。这将对人类的科技进步带来一定程度上的帮助。</p>
<h2 id="4-价格走势"><a href="#4-价格走势" class="headerlink" title="4. 价格走势"></a>4. 价格走势</h2><p>2013年的时候价格彪到0.015BTC（当初人民币8元），曾经排行到电子货币的第三名，但是，现在价格却只有0.00010877BTC（人民币0.45元左右）。P网的价格去年到现在一整年的时间，价格下降了三分二（从0.00028BTC左右到0.00010BTC左右）。</p>
<p><img src="https://raw.githubusercontent.com/daijianlin/daijianlin.github.io/master/images/XPM-P.png" alt=""></p>
<h2 id="5-流动性"><a href="#5-流动性" class="headerlink" title="5. 流动性"></a>5. 流动性</h2><p>目前流动性比较差。因为交易量低，上线的交易所也低，详细看下面两小节。</p>
<h3 id="5-1-交易量"><a href="#5-1-交易量" class="headerlink" title="5.1 交易量"></a>5.1 交易量</h3><p>最近日均交易量才6个比特币左右。</p>
<h3 id="5-2上线的交易所"><a href="#5-2上线的交易所" class="headerlink" title="5.2上线的交易所"></a>5.2上线的交易所</h3><p>曾经上线过下面的几个交易所，但是好多个交易所已经下架了，但是他们的官网还是放着，都没有做更新的样子。</p>
<blockquote>
<ul>
<li>BTC-e（已经下架）</li>
<li>Cryptsy BTC LTC with XPM Market Section by BitJohn and bigvern</li>
<li>Crypto-Trade USD BTC PPC by neotrix</li>
<li>Vircurex USD EUR BTC PPC</li>
<li>Coins-E by minus</li>
<li>Coinmkt</li>
<li>btc38(比特时代) CNY</li>
<li>Bter(比特儿) CNY BTC</li>
<li>btcltc(比特莱)</li>
<li>CoinEx</li>
<li>Gatecoin (Under Development)</li>
</ul>
</blockquote>
<h2 id="附录1：社交媒体活跃度"><a href="#附录1：社交媒体活跃度" class="headerlink" title="附录1：社交媒体活跃度"></a>附录1：社交媒体活跃度</h2><h3 id="Facebook热度"><a href="#Facebook热度" class="headerlink" title="Facebook热度"></a>Facebook热度</h3><p>没什么人气。<br><img src="https://raw.githubusercontent.com/daijianlin/daijianlin.github.io/master/images/XPM-facebook.png" alt=""></p>
<h3 id="Twitter热度"><a href="#Twitter热度" class="headerlink" title="Twitter热度"></a>Twitter热度</h3><p>也没什么更新。<br><img src="https://raw.githubusercontent.com/daijianlin/daijianlin.github.io/master/images/XPM-Twitter.png" alt=""></p>
<h2 id="附录2：以太坊创始人评价-2013"><a href="#附录2：以太坊创始人评价-2013" class="headerlink" title="附录2：以太坊创始人评价(2013)"></a>附录2：以太坊创始人评价(2013)</h2><p>以下是以太坊创始人Vitalik Buterin 2013对XPM的评价：</p>
<p>原文：<a href="http://tinyurl.com/xpmjianlin" target="_blank" rel="external">http://tinyurl.com/xpmjianlin</a></p>
<p>翻译：<a href="http://dwz.cn/xpmjianlin" target="_blank" rel="external">http://dwz.cn/xpmjianlin</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/04/我的元认知能力开始被激活/" itemprop="url">
                  我的元认知能力开始被激活
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-04T23:43:47+08:00" content="2016-10-04">
              2016-10-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人成长/" itemprop="url" rel="index">
                    <span itemprop="name">个人成长</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/04/我的元认知能力开始被激活/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/10/04/我的元认知能力开始被激活/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>听过笑来老师说过“读书要只字不差地阅读”之后，发现实践起来其实并不容易。因为之前养成了不好的习惯：看书看的挺快，遇到一知半解的东西跳过，而且是跳过之后就不回头过来琢磨和思考。</p>
<p><strong>这就很糟糕了。</strong></p>
<blockquote>
<p>啊？我之前这种比较快的阅读方式竟然是错的，没有意义的，东西只不过在脑中过了一遍而已，没有留下深刻的记忆，一段时间过后也就完全忘记了……</p>
</blockquote>
<p>恍然大悟：</p>
<blockquote>
<p>啊？原来是这样的啊！</p>
</blockquote>
<p>进而：</p>
<blockquote>
<p>这道理其实挺简单的啊！之前我怎么竟然完全没有想到？作为一个把新概念3里面的几十篇文章反复背诵过几百遍的人，我怎么就想不到读书要只字不差地阅读？甚至只字不差地思考？只字不差地琢磨？</p>
</blockquote>
<p>进一步：</p>
<blockquote>
<p>那现在我知道了，我现在开始应该都这么做才对。</p>
</blockquote>
<p>可是：</p>
<blockquote>
<p>在阅读的时候，我还是总是不由自主地加快速度，哪怕这句话读过没有完全理解，也是一直往前阅读？</p>
</blockquote>
<p>是啊：</p>
<blockquote>
<p>终于又深刻体会了一遍什么叫“知易行难啊！我就不信我搞不定！</p>
</blockquote>
<p>于是：</p>
<blockquote>
<p>我有开始了另外的征程……每次要往前走的时候，控制自己，践行《Beyond Feelings…..》里说的：</p>
<blockquote>
<p>“Effective thinkers exert control over their metal life, direct their thoughts rather than being directed by them, and withhold their endorsement of any idea - even their own - until they have tested and confirmed it”</p>
</blockquote>
</blockquote>
<p>笑来老师在得到中的解释说到了问题的本质：</p>
<blockquote>
<p>“越是简单的事情，其实越容易被人忽略。因为我们总是以为自己已经理解了这些表层的意思，而不再去深挖其中的本质。”</p>
</blockquote>
<p>从最底层来看，元认知能力起作用的方式：</p>
<blockquote>
<p>哦，我原来(正在)是这么想的：我赶紧要把这边书读完，读完了就可以读另外一本了……<br>嗯？我这么想难道是不对的吗？是的，是不对。这样不是为了读书而读书，搞形式化吗？本质上是在自己欺骗自己呀？<br>啊？我应该这么想才对：读这本好书，我要读无数遍，读到懂为止，通过各种方式读，做笔记，做记录，反复阅读，向后总结的同时，向前预期。你想啊，真正有用的知识都是比较不容易掌握的，再细细地想一下，大家都容易懂的知识是不是相对比较没有价值？而当你完全掌握好一本好书的时候，你再接着去看另外一本书，当你读书读到一定数量，积累到一定水平的时候，会发现自己的理解能力越来越强，自己的读书速度会越来越快……</p>
</blockquote>
<p>这段通过认真阅读，我竟然发现我已经掌握了一个很重要的能力，这个能力是：</p>
<blockquote>
<p>不管周围的环境多么的吵，我竟然可以雷打不动地看书……哇，这种感觉太棒了。进而，不管周围的环境多么吵，我竟然可以做我想做的几乎任何的事情？哇，这种感觉amazing……</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/04/我的精读实践初心得/" itemprop="url">
                  我的精读实践初心得
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-04T23:38:53+08:00" content="2016-10-04">
              2016-10-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人成长/" itemprop="url" rel="index">
                    <span itemprop="name">个人成长</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/04/我的精读实践初心得/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/10/04/我的精读实践初心得/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>我们为什么要读书？</p>
<blockquote>
<p>改变生活。</p>
</blockquote>
<p>这是我听过的最朴素的回答。</p>
<p>读书无用论流行了很长时间了，大概从2000年左右高考开始扩招开始，就一直在流行着读书无用论—因为很多人读了大学毕业后找不到工作，甚至有些高考考上名牌大学后毕业后竟然找不到工作，只好回到家里呆着。</p>
<p>可是，很多人（包括以前的我）其实没有深层次地去分析原因。我给出的答案是：上学读的书没有用起来，当然无用了。读的书没有用起来，会起作用，那天理何在啊？</p>
<p>在我骨子里，我其实是从小就坚信读书会有用的人（那是即使我真不知道会有什么用，我却依然坚信）。假如没有这份坚信，也不会有这篇文章。</p>
<p>我们先从最简单的怎样读书开始说起。</p>
<p>毫无夸张地讲，很多人这辈子被害得最惨的之一是快速阅读。我也不例外，这个快速阅读的概念犹如魔鬼一样的跟随着我，让我深受其害，我想这也是我们教育失败的原因之一吧，在我们上学的时候，很多错误的理念一直伴随着我们，被这些错误的理念毒害的时候，没有人给我们指导。本质的原因可能是中国的老师整体水平实在是次。</p>
<p>直到有一天，我看到了李笑来老师的《人人都能用英语》里面提到：阅读只有一种—精读。我才恍然大悟。里面提到，好书，应该要这样读：</p>
<blockquote>
<ul>
<li>挣扎着搞清楚每一句话的确切含义。运用一切可以运用的手段— 查词典，查语法书，甚至去查google。</li>
<li>理解每句话之间、每个段落之间的关系。处理段落有另外一个任务— 概括。</li>
<li>整理词汇。要知道，读完一篇文章之后，自己动手整理词汇，远比背单词书效率高出许多— 可惜，大多数人并不相信。</li>
<li>反复阅读若干遍。读着读着就可能发现很多第一次读并没有注意到的东西。</li>
<li>复述文章。能够书面或者口头复述刚刚度过的文章，实际上需要很多综合能力：记忆力、逻辑能力、转述能力、重新组织能力、再理解能力等等。</li>
<li>养成若干天后复习的习惯。</li>
</ul>
</blockquote>
<p>你要知道，即使看到这么朴素的读书方法，大部分人其实只是想一想而已，不会真正实践的，想完了后第二天读书的时候还是没按照上面的方法来。我就是这样的人。</p>
<p>我在几个月前就看到了这本书，在看这本书的时候，也重点地把以上这部分内容圈起来。可是，过几天我就完全忘记了……</p>
<p>直到有一天，我听了笑来老师的演讲—讲他是如何读书的，里面提到他写的这篇文章，我才再次被触动，再次翻开这篇文章，这次，触动我心灵的其实是，假如我再这样下去，下辈子（七年就是一辈子）我可能还是个原始人，于是，我行动了起来……</p>
<p>行动了后，才知道自己是多么的无知，之前读书，很多细节都是一知半解自己却为了追求速度而放过，遇到不懂的甚至因为嫌麻烦，就不动手去查资料。举个例子，有时候，我看到书的内容（我说的是英文原版书哦，因为最近都看英文原版书籍），我每句话都读懂了，但是没有深度思考，看了这句，忘记了上一句，看书变成了只是过场，大脑没有留下任何记忆。更别提可以把学到的在生活学习中用起来了。有时候甚至是大脑的“思路”没有跟上眼睛的“思路”。怎么办呢？怎么办呢？有没有解决办法？解决办法就是按照笑来老师说的方法，一字不落地记住上面的话，跟着去实践。</p>
<p>在读书这条路上，要真正达到改善生活，是需要时间来发酵的。让我们拭目以待吧……</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/22/通过自学多维度打造竞争力/" itemprop="url">
                  通过自学多维度打造竞争力
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-22T00:10:47+08:00" content="2016-09-22">
              2016-09-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人成长/" itemprop="url" rel="index">
                    <span itemprop="name">个人成长</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/22/通过自学多维度打造竞争力/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/09/22/通过自学多维度打造竞争力/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>我们这一生，有必要不停地问自己（主要从笑来老师得到专栏摘录）：</p>
<blockquote>
<p>到目前为止，你有什么是真正让自己值得骄傲的？</p>
<p>赚钱能力，是个永远绕不开的话题，只要你还在这个世界上活着，那么问问自己自己的哪个专业技能能让自己比掉80%的人？除此之外，你还可以围绕着它打造多少个维度？以便打造出一个他人无法招架的竞争力？</p>
</blockquote>
<p>分享一下我自己的回答：首先，如果有什么值得让我骄傲的话，就是一路上走过来，都只根据自己的想法和思考来生活。我感谢我的父母亲，放任我自由成长，从读小学到读大学研究生，都是我自己选择的结果，从农村来到城市，然后最终在老家与城市之间往来，能够做到没有忘记老家的同时还能在城市发展。如果你有幸也是很多事情都是自己做选择，那你也是很幸福的，自己选择了，就要勇往直前！</p>
<p>其次，关于专业技能，跟中国人对比起来的话，我大概英文写作水平能比掉80%的人；我对文档的处理，做事情对细节的把控，应该处于10%以内。</p>
<p>我想我必须在以下几个方面打造自己的竞争力：</p>
<blockquote>
<ul>
<li>写作能力</li>
<li>沟通</li>
<li>逻辑思考</li>
<li>数据分析统计概率</li>
<li>理财</li>
<li>计算机编程</li>
</ul>
</blockquote>
<p>我的打造方法对应如下：</p>
<blockquote>
<p>首先，我现在给自己定的目标是一周要写至少5篇文章。通过不断地写作和读书来促进自己的写作能力、沟通能力及逻辑思考能力。其中逻辑思考首先要从看烂那边《beyond feelings》开始……所以说这几个基本都是靠自学来获取知识。</p>
<p>其次，数据分析统计概念，我会通过新生大学同学们建立的社群来获取相关资料，这个相关的资料在这里可以获取到<a href="https://zhuanlan.zhihu.com/p/22001341" target="_blank" rel="external">数据分析入门群Checklist</a>，就通过跟他们的沟通学习交流，当然最终还是要反应到自学上。</p>
<p>再次，关于理财，自己已经在践行，我已经定期拿出每个月的一部分钱拿去投资，当做是这些钱可能会没掉的去投资，当然还有一部分投资是保本的投资。</p>
<p>最后，关于计算机编程，其实是我大学时候学习的专业，本来应该成为我的核心竞争力的可惜却被我丢掉了，有机会捡回来的，我主要打算还是跟笑来老师学习，跟着老师的节奏走。</p>
</blockquote>
<p>总而言之就是两个字：</p>
<blockquote>
<p><strong>自学</strong></p>
</blockquote>
<p>要做以上的事情，是需要建立在自己工作比较稳定的基础上，不要放弃目前的工作，因为目前的工作是很重要的，是为做以上事情做基础后盾的，家庭开销需要我用这份工作来支持。没有了这份工作当然也不一定是坏事，但是假如是不做我当前的工作，那么多维度打造自己竞争力的计划得推倒重新写，因为首先是要以自己家庭的基本生活保障作为前提和基础的。当然，也许有一天我会放开自己的思想负担，自由地选择属于自己的道路前进，过下一个属于自己的更不一样的七年（七年就是一辈子）。</p>
<p>我答应了李笑来老师，我要帮他一个忙，也许对你有帮助哦！</p>
<p><img src="http://ww4.sinaimg.cn/mw690/006gNvXEgw1f7aff0zkyoj30ku0vrgnu.jpg" alt=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/19/摆脱“浪费时间”的行为，赢得成长的机会/" itemprop="url">
                  摆脱“浪费时间”的行为，赢得成长的机会
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-19T00:38:34+08:00" content="2016-09-19">
              2016-09-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人成长/" itemprop="url" rel="index">
                    <span itemprop="name">个人成长</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/19/摆脱“浪费时间”的行为，赢得成长的机会/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/09/19/摆脱“浪费时间”的行为，赢得成长的机会/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>不知道你是否有过类似下面的某种行为？</p>
<blockquote>
<ul>
<li>“看一看我投资的某个资产涨了没有……”</li>
<li>“看一看得到的评论有没有被选上精选啊……”</li>
<li>“刷一刷NBA勇士队的比分（文字直播）有没有领先……“</li>
<li>”刷新一下是否客户有给我回复新邮件了……“</li>
<li>……</li>
</ul>
</blockquote>
<p>上面列举到的，说的其实是曾经的我有过的行为，毫无夸张地讲，这些行为其实是在浪费可以促进自己成长的注意力，进而浪费自己的生命：</p>
<blockquote>
<ul>
<li>每天盯着看资产有没有涨是没有用的，时不时地看这个基本是浪费时间，无关成长。</li>
<li>这个就更没有意义，起初可能还想着被评为精选说不定可以得到礼物。可是啊，那个不应该是重点，重点是什么呢？还是自己的成长。</li>
<li>看NBA这样的文字直播刷比方，从我自己是个伪球迷的角度来看，大概就是一种凑热闹的行为而已。跟成长扯不上任何关系。对其他人比如说某个要往打篮球发展的人来说，可能看视频才是能促进自己观察和成长的。</li>
<li>经常刷邮件的人，也是不懂珍惜自己注意力的，首先，要明白邮件其实是一个”异步“通讯工具而不是一个”同步“通讯工具（所谓“异步”，指的是信息的发送和响应之间可以距离很长的时间）。如果经常很急的去刷，只能说明自己是个没耐心的，不懂得如何分配时间的人。更何况再怎么急的邮件也不会因为差个几分钟没查收，对方就不理你了（当然特殊情况除外），说得难听点，假如对方是这样的，也是不值得你珍惜。</li>
<li>……</li>
</ul>
</blockquote>
<p>在我看来，有过类似以上的行为肯定也是正常，但是，长时间或者长期处于类似这些行为当中，就不正常了！一旦发现自己长时间处于上面类似这些行为当中，一定把自己拉回来。具体要怎么做呢？</p>
<h2 id="首先，要思考……"><a href="#首先，要思考……" class="headerlink" title="首先，要思考……"></a>首先，要思考……</h2><p>也不要小看这个貌似看起来很简单的思考，想想那些花了几千块钱甚至就几百块钱在股市里，却像中毒似的每天盯着屏幕看涨跌曲线的”股民们“吧。</p>
<p>所以，我们都必须时不时地提醒自己，要思考，要时刻能思考意识到自己处于这种行为当中。</p>
<h2 id="其次，把注意力聚焦到成长上"><a href="#其次，把注意力聚焦到成长上" class="headerlink" title="其次，把注意力聚焦到成长上"></a>其次，把注意力聚焦到成长上</h2><p>经过了上面思考的步骤后，要懂得马上”抽身出来“，转移自己的注意力到能促进自己成长的事情上。按照李笑来老师的说法，上面的那些行为其实都是浪费自己注意力的行为，而注意力是我们最宝贵的财富，要把注意力放在自己的成长上面。</p>
<h2 id="最后，要从本质上解决问题"><a href="#最后，要从本质上解决问题" class="headerlink" title="最后，要从本质上解决问题"></a>最后，要从本质上解决问题</h2><p>本质的东西是什么呢？是自己没事情可以做吗？不，怎么会没事情呢？要做的事情多着呢……</p>
<blockquote>
<ul>
<li>实现财富自由</li>
<li>学习投资理财</li>
<li>学习编程</li>
<li>学习英语</li>
<li>多陪陪自己爱的人</li>
<li>……</li>
</ul>
</blockquote>
<p>有时候我都觉得恨不得自己一天有48小时呢？那为什么还是会出现上面的行为？本质上是没有合理安排自己的时间。那就要给自己做计划。至于要怎么给自己做计划，笑来老师在《把时间当作朋友》中的第三章第9节<a href="http://zhibimo.com/read/xiaolai/ba-shi-jian-dang-zuo-peng-you/Chapter3.html" target="_blank" rel="external">计划</a>讲的就很透彻。直接前往查看呗……</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/18/长期执拗地写/" itemprop="url">
                  长期执拗地写
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-18T00:53:00+08:00" content="2016-09-18">
              2016-09-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人成长/" itemprop="url" rel="index">
                    <span itemprop="name">个人成长</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/18/长期执拗地写/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/09/18/长期执拗地写/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在笑来老师得到《通往财富自由之路》的专栏里，我发现了个有趣的事情，笑来老师是每天准时在早上7：00把内容发出来的。一个多月过去了，根据我的观察，从来没有改变过，我不知道这是不是得到上的要求，但我觉得更多的是笑来老师的自律。</p>
<p>颇为惭愧的是，我连每天找个时间每天留言都做不到。当然，自己的想法很简单，不想为了留言而留言，但后面我发现其实更多时候，当你开始打算写留言的时候，想法往往会源源不断的出来的。</p>
<p>这篇文章其实是想写来反思自己的，我什么时候做到过坚持在每天的同一个时间点做同一件事情坚持一个月过？答案竟然是没有。我坚持过做同一件事情每天都做有9个月的，有好几个月的，但是没有坚持做到过一件事情在同一个时间点开始一个月以上。不用说那么准时开始，就前后左右相差半个小时以内，我也没有过。这让我陷入了深深的思考，我再这样下去，谁能救得了我？我自诩自己为控制力很强的人，可是跟这些有成就的人比起来，发现我还差的太多太多了。</p>
<p>经过了反思之后，我的苹果电脑上的日历就变成了如下这个样子了</p>
<p><img src="https://mmbiz.qlogo.cn/mmbiz_png/YmN2cyEsgtNcayDiarjt45JNMOZicNaZnQ2SxZdcBWVS4L8XSEswOPA0qnffnMnaV7j2Ru9XAicKxrNe9OHicMANiaA/0?wx_fmt=png" alt=""></p>
<p>是啊，每天都要把计划排得满满的了，每天都要“执拗地写”，才能促进自己进步和思考。你想啊，强如李笑来、和菜头这样的人都是从执拗地写作开始的，我有什么理由不这样努力能成功呢？只要这样做，假以时日，相信改变一定会出现的。希望有那一天真正进入我的骨髓，这样子就不用执拗二字，而是变成了我的习惯。</p>
<p>从现在开始（准确地说从前段时间开始），我要把自己打造成一个多任务操作系统。先从阅读，写作，英语，演讲能力等各方面去积累。</p>
<p>哪怕写的再烂，也可以公开发表出去的。是的，就这样……</p>
<p>我答应了李笑来老师，我要帮他一个忙，也许对你有帮助哦！</p>
<p><img src="http://ww4.sinaimg.cn/mw690/006gNvXEgw1f7aff0zkyoj30ku0vrgnu.jpg" alt=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/15/我真的很在意自己的进步/" itemprop="url">
                  我真的很在意自己的进步
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-15T01:02:12+08:00" content="2016-09-15">
              2016-09-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人成长/" itemprop="url" rel="index">
                    <span itemprop="name">个人成长</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/15/我真的很在意自己的进步/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/09/15/我真的很在意自己的进步/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>首先，来搞清楚一下我认为的进步的概念。</p>
<blockquote>
<p>所谓的进步，就是我跟以前的自己比较起来，在某些方面更强了。</p>
</blockquote>
<p>而所谓的每天都在进步，其实是非常非常可怕的，假如能做到每天进步，那么这个进步就像是李笑来在《七年就是一辈子》里<a href="https://b.xinshengdaxue.com/A01.html" target="_blank" rel="external">复利：我们的人生希望</a>所描述的复利的道理一样，只要每天进步一点点，随着时间的推移，进步将是非常可怕的。进步曲线可是会这样的哦……</p>
<p><img src="https://b.xinshengdaxue.com/images/compound-rate-curve.jpg" alt=""></p>
<p>过去的几年，我也知道进步很重要，也都是很认真的学习工作生活。在工作上甚至我要求我的下属每周每个月的工作报告中要添加一栏“自己的成长”，可见我自己有多重视。可是这么多年过去了，我发现我的进步还是不够明显。我试着去分析了原因，得出如下结论：</p>
<blockquote>
<p>首先，对一些事情上，我常常半途而废，坚持不够久……</p>
</blockquote>
<p>比如在背英语单词上，我做不到坚持背过的单词过一段时间进行复习，以至于单词量现在还是非常有限。要知道，一件事情假如做不到一直坚持做的话，就很难做得足够好。德国心理学家赫尔曼·艾宾浩斯研究结果表明：人类输入的信息在经过人的注意过程的学习后，便成为了人的短时的记忆，但是如果不经过及时的复习，这些记住过的东西就会遗忘，而经过了及时的复习，这些短时的记忆就会成为了人的一种长时的记忆，从而在大脑中保持着很长的时间。这个就是著名的<a href="https://en.wikipedia.org/wiki/Forgetting_curve" target="_blank" rel="external">遗忘曲线</a>，这个道理足够解释我这么多年一些事情上进步不明显的原因。</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/ForgettingCurve.svg/277px-ForgettingCurve.svg.png" alt=""></p>
<blockquote>
<p>其次，我没有养成天天写作，及时总结的习惯。</p>
</blockquote>
<p>很多年以前，我就告诉自己，要读书，要学会写作，写作会改变我的生活，改变我的思维方式，甚至改变我的命运。多年以前我有幸得到思科前中国区总裁林正刚亲笔签名的一本书，叫《正能量-职业经理人的养成》，第四章里面有一节专门讲感兴趣的书要立刻买，我也因此买了很多书藏着在家里。可是那几年中，我花在读书上的时间确实非常有限的（那几年我把几乎所有的时间都给了工作）。也好多次尝试着提起键盘开始敲字，可是，这么多年过去了，直到去年为止，我都没写出几篇文章。从去年的这个时候开始（我写下这个文字的时间是2016年9月14日），我开始有点后知后觉，觉得这样下去不行，自己的成长速度好慢，于是，从那个时候开始，我开始看书，开始写读后感，可是，到现在为止，一年过去了，我发现，总共我写的文章和读后感，累加起来也不过是20多篇，质量也参差不齐（大部分质量都还很烂）。</p>
<p>最近，在反复听笑来老师的讲课中，我认认真真地反思了自己，反思，深刻地认识到自己再这样下去，不知道再过多年，自己会还是什么样的自己。于是我开始在半欢喜和半焦虑中度过。也许这样的感觉才是对的。</p>
<p>下面是我反思的结果，为了进步，我需要做出哪些改变呢？总结起来就简单的一句话。</p>
<blockquote>
<p>我需要每天都写总结，写作……</p>
</blockquote>
<p>每天都要进入深度思考模式，就像我的微信公众号名字一样”学习思考再思考“一样，要不断地总结每天的进步。具体在行动上需要做到怎样呢？</p>
<blockquote>
<ol>
<li>记录自己每天做过的事情，记录自己的行动。</li>
</ol>
</blockquote>
<p>按照李笑来在《把时间当作朋友》（第三版）第三章第7节第8节记录开销和制订预算来做就够用。</p>
<blockquote>
<ol>
<li>写作：多写多写多写。</li>
</ol>
</blockquote>
<p>拿起键盘开始写，每天都要写，能写多少算多少，相信多年以后，我会感谢我这样的自己。</p>
<p>就这么简单，不过要知道<strong>行动起来才是最重要的</strong>。</p>
<p>我答应了李笑来老师，我是他的脑残粉，我要帮他一个忙，也许对你有帮助哦！</p>
<p><img src="http://ww4.sinaimg.cn/mw690/006gNvXEgw1f7aff0zkyoj30ku0vrgnu.jpg" alt=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/marcdai.png"
               alt="DaiJianlin" />
          <p class="site-author-name" itemprop="name">DaiJianlin</p>
          <p class="site-description motion-element" itemprop="description">时刻用一颗谦卑的心来面对这个世界的人和事，在自己所建立的原则的基础上努力做事，人生终将美满。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">29</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://cn.linkedin.com/in/marcdai" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-linkedin-square"></i>
                  
                  Linkedin
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/p/1005053542339090?is_all=1" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/marc_dai" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/daijianlin" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/daijianlin" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/users/e1707c67ab73/latest_articles" target="_blank" title="简书">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  简书
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DaiJianlin</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'daijianlin';
      var disqus_identifier = 'index.html';
      var disqus_title = "";
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  




  
  
  

  

  

</body>
</html>
